<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Ring buffer read end."><title>RbRead in ringbuf::ring_buffer - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-9ee3a5e31a2afa3e.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="ringbuf" data-themes="" data-resource-suffix="" data-rustdoc-version="1.76.0-nightly (6cf088810 2023-11-26)" data-channel="nightly" data-search-js="search-56a624991a76cfad.js" data-settings-js="settings-fe03fdc259827cd2.js" ><script src="../../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-e1c03aa593074e71.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../ringbuf/index.html">ringbuf</a><span class="version">0.3.3</span></h2></div><h2 class="location"><a href="#">RbRead</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.set_head">set_head</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.advance_head">advance_head</a></li><li><a href="#method.occupied_ranges">occupied_ranges</a></li><li><a href="#method.occupied_slices">occupied_slices</a></li><li><a href="#method.skip_internal">skip_internal</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In ringbuf::ring_buffer</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../index.html">ringbuf</a>::<wbr><a href="index.html">ring_buffer</a>::<wbr><a class="trait" href="#">RbRead</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/ringbuf/ring_buffer/base.rs.html#86-158">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait RbRead&lt;T&gt;: <a class="trait" href="trait.RbBase.html" title="trait ringbuf::ring_buffer::RbBase">RbBase</a>&lt;T&gt; {
    // Required method
    unsafe fn <a href="#tymethod.set_head" class="fn">set_head</a>(&amp;self, value: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>);

    // Provided methods
    unsafe fn <a href="#method.advance_head" class="fn">advance_head</a>(&amp;self, count: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>) { ... }
<span class="item-spacer"></span>    fn <a href="#method.occupied_ranges" class="fn">occupied_ranges</a>(&amp;self) -&gt; (<a class="struct" href="https://doc.rust-lang.org/nightly/core/ops/range/struct.Range.html" title="struct core::ops::range::Range">Range</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/core/ops/range/struct.Range.html" title="struct core::ops::range::Range">Range</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>&gt;) { ... }
<span class="item-spacer"></span>    unsafe fn <a href="#method.occupied_slices" class="fn">occupied_slices</a>(
        &amp;self
    ) -&gt; (&amp;mut [<a class="union" href="https://doc.rust-lang.org/nightly/core/mem/maybe_uninit/union.MaybeUninit.html" title="union core::mem::maybe_uninit::MaybeUninit">MaybeUninit</a>&lt;T&gt;], &amp;mut [<a class="union" href="https://doc.rust-lang.org/nightly/core/mem/maybe_uninit/union.MaybeUninit.html" title="union core::mem::maybe_uninit::MaybeUninit">MaybeUninit</a>&lt;T&gt;]) { ... }
<span class="item-spacer"></span>    unsafe fn <a href="#method.skip_internal" class="fn">skip_internal</a>(&amp;self, count_or_all: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a> { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Ring buffer read end.</p>
<p>Provides access to occupied memory and mechanism of item extraction.</p>
<p><em>It is recommended not to use this trait directly. Use <a href="../producer/struct.Producer.html" title="struct ringbuf::producer::Producer"><code>Producer</code></a> and <a href="../consumer/struct.Consumer.html" title="struct ringbuf::consumer::Consumer"><code>Consumer</code></a> instead.</em></p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.set_head" class="method"><a class="src rightside" href="../../src/ringbuf/ring_buffer/base.rs.html#94">source</a><h4 class="code-header">unsafe fn <a href="#tymethod.set_head" class="fn">set_head</a>(&amp;self, value: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>)</h4></section></summary><div class="docblock"><p>Sets the new <strong>head</strong> position.</p>
<h5 id="safety"><a href="#safety">Safety</a></h5>
<p>This call must cohere with ring buffer data modification.</p>
<p>It is recommended to use <code>Self::advance_head</code> instead.</p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.advance_head" class="method"><a class="src rightside" href="../../src/ringbuf/ring_buffer/base.rs.html#103-106">source</a><h4 class="code-header">unsafe fn <a href="#method.advance_head" class="fn">advance_head</a>(&amp;self, count: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>)</h4></section></summary><div class="docblock"><p>Move <strong>head</strong> position by <code>count</code> items forward.</p>
<h5 id="safety-1"><a href="#safety-1">Safety</a></h5>
<p>First <code>count</code> items in occupied area must be <strong>initialized</strong> before this call.</p>
<p><em>In debug mode panics if <code>count</code> is greater than number of items in the ring buffer.</em></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.occupied_ranges" class="method"><a class="src rightside" href="../../src/ringbuf/ring_buffer/base.rs.html#110-112">source</a><h4 class="code-header">fn <a href="#method.occupied_ranges" class="fn">occupied_ranges</a>(&amp;self) -&gt; (<a class="struct" href="https://doc.rust-lang.org/nightly/core/ops/range/struct.Range.html" title="struct core::ops::range::Range">Range</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/core/ops/range/struct.Range.html" title="struct core::ops::range::Range">Range</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>&gt;)</h4></section></summary><div class="docblock"><p>Returns a pair of ranges of <a href="trait.RbRead.html#method.occupied_slices"><code>Self::occupied_slices</code></a> location in underlying container.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.occupied_slices" class="method"><a class="src rightside" href="../../src/ringbuf/ring_buffer/base.rs.html#127-129">source</a><h4 class="code-header">unsafe fn <a href="#method.occupied_slices" class="fn">occupied_slices</a>(
    &amp;self
) -&gt; (&amp;mut [<a class="union" href="https://doc.rust-lang.org/nightly/core/mem/maybe_uninit/union.MaybeUninit.html" title="union core::mem::maybe_uninit::MaybeUninit">MaybeUninit</a>&lt;T&gt;], &amp;mut [<a class="union" href="https://doc.rust-lang.org/nightly/core/mem/maybe_uninit/union.MaybeUninit.html" title="union core::mem::maybe_uninit::MaybeUninit">MaybeUninit</a>&lt;T&gt;])</h4></section></summary><div class="docblock"><p>Provides a direct mutable access to the ring buffer occupied memory.</p>
<p>Returns a pair of slices of stored items, the second one may be empty.
Elements with lower indices in slice are older. First slice contains older items that second one.</p>
<h5 id="safety-2"><a href="#safety-2">Safety</a></h5>
<p>All items are initialized. Elements must be removed starting from the beginning of first slice.
When all items are removed from the first slice then items must be removed from the beginning of the second slice.</p>
<p><em>This method must be followed by <a href="trait.RbRead.html#method.advance_head"><code>Self::advance_head</code></a> call with the number of items being removed previously as argument.</em>
<em>No other mutating calls allowed before that.</em></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.skip_internal" class="method"><a class="src rightside" href="../../src/ringbuf/ring_buffer/base.rs.html#143-157">source</a><h4 class="code-header">unsafe fn <a href="#method.skip_internal" class="fn">skip_internal</a>(&amp;self, count_or_all: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a></h4></section></summary><div class="docblock"><p>Removes items from the head of ring buffer and drops them.</p>
<ul>
<li>If <code>count_or_all</code> is <code>Some(count)</code> then exactly <code>count</code> items will be removed.
<em>In debug mode panics if <code>count</code> is greater than number of items stored in the buffer.</em></li>
<li>If <code>count_or_all</code> is <code>None</code> then all items in ring buffer will be removed.
<em>If there is concurring producer activity then the buffer may be not empty after this call.</em></li>
</ul>
<p>Returns the number of removed items.</p>
<h5 id="safety-3"><a href="#safety-3">Safety</a></h5>
<p>Must not be called concurrently.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-RbRead%3CT%3E-for-LocalRb%3CT,+C%3E" class="impl"><a class="src rightside" href="../../src/ringbuf/ring_buffer/local.rs.html#70-75">source</a><a href="#impl-RbRead%3CT%3E-for-LocalRb%3CT,+C%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T, C: <a class="trait" href="trait.Container.html" title="trait ringbuf::ring_buffer::Container">Container</a>&lt;T&gt;&gt; <a class="trait" href="trait.RbRead.html" title="trait ringbuf::ring_buffer::RbRead">RbRead</a>&lt;T&gt; for <a class="struct" href="struct.LocalRb.html" title="struct ringbuf::ring_buffer::LocalRb">LocalRb</a>&lt;T, C&gt;</h3></section><section id="impl-RbRead%3CT%3E-for-SharedRb%3CT,+C%3E" class="impl"><a class="src rightside" href="../../src/ringbuf/ring_buffer/shared.rs.html#71-76">source</a><a href="#impl-RbRead%3CT%3E-for-SharedRb%3CT,+C%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T, C: <a class="trait" href="trait.Container.html" title="trait ringbuf::ring_buffer::Container">Container</a>&lt;T&gt;&gt; <a class="trait" href="trait.RbRead.html" title="trait ringbuf::ring_buffer::RbRead">RbRead</a>&lt;T&gt; for <a class="struct" href="struct.SharedRb.html" title="struct ringbuf::ring_buffer::SharedRb">SharedRb</a>&lt;T, C&gt;</h3></section><section id="impl-RbRead%3CT%3E-for-RbReadCache%3CT,+R%3E" class="impl"><a class="src rightside" href="../../src/ringbuf/ring_buffer/cache.rs.html#94-102">source</a><a href="#impl-RbRead%3CT%3E-for-RbReadCache%3CT,+R%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T, R: <a class="trait" href="trait.RbRef.html" title="trait ringbuf::ring_buffer::RbRef">RbRef</a>&gt; <a class="trait" href="trait.RbRead.html" title="trait ringbuf::ring_buffer::RbRead">RbRead</a>&lt;T&gt; for <a class="struct" href="struct.RbReadCache.html" title="struct ringbuf::ring_buffer::RbReadCache">RbReadCache</a>&lt;T, R&gt;<span class="where fmt-newline">where
    R::<a class="associatedtype" href="trait.RbRef.html#associatedtype.Rb" title="type ringbuf::ring_buffer::RbRef::Rb">Rb</a>: <a class="trait" href="trait.RbRead.html" title="trait ringbuf::ring_buffer::RbRead">RbRead</a>&lt;T&gt;,</span></h3></section></div><script src="../../trait.impl/ringbuf/ring_buffer/base/trait.RbRead.js" async></script></section></div></main></body></html>